PROXY_HOST='127.0.0.1'
PROXY_HTTP_PORT='7890'
PROXY_SOCKS_PORT='7890'

if [[ "$*" == 'enable' ]]; then
    if [[ $HTTP_PROXY && $HTTPS_PROXY && $ALL_PROXY && $http_proxy && $https_proxy && $all_proxy ]]; then
        echo 'proxy already enabled!'
    else
        export {HTTP_PROXY,http_proxy}="http://$PROXY_HOST:$PROXY_HTTP_PORT"
        export {HTTPS_PROXY,https_proxy}="http://$PROXY_HOST:$PROXY_HTTP_PORT"
        export {ALL_PROXY,all_proxy}="socks5://$PROXY_HOST:$PROXY_SOCKS_PORT"
        echo 'proxy enabled!'
    fi
elif [[ "$*" == 'disable' ]]; then
    if [[ $HTTP_PROXY || $HTTPS_PROXY || $ALL_PRXOY || $http_proxy || $https_proxy || $all_proxy ]]; then
        unset {HTTP_PROXY,http_proxy}
        unset {HTTPS_PROXY,https_proxy}
        unset {ALL_PROXY,all_proxy}
        echo 'proxy disabled!'
    else
        echo 'proxy already disabled!'
    fi
elif [[ "$*" == 'status' ]]; then
    if [[ $HTTP_PROXY || $HTTPS_PROXY || $ALL_PROXY || $http_proxy || $https_proxy || $all_proxy ]]; then
        echo "HTTP_PROXY=${HTTP_PROXY:-'none'}"
        echo "HTTPS_PROXY=${HTTPS_PROXY:-'none'}"
        echo "ALL_PROXY=${ALL_PROXY:-'none'}"
        echo "http_proxy=${http_proxy:-'none'}"
        echo "https_proxy=${https_proxy:-'none'}"
        echo "all_proxy=${all_proxy:-'none'}"
    else
        echo 'proxy is disabled!'
    fi
elif [[ "$*" == 'help' ]] || [[ "$*" == '' ]]; then
    echo 'usage: proxy [enable|disable|status|help]'
else
    printf "invalid command name \"%s\".\n" "$*" >&2
fi
